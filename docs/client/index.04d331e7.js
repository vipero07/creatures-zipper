import{S as t,i as e,s,B as n,e as a,t as r,u as l,c as o,a as i,b as c,d as f,w as h,f as u,g,l as p,M as m,h as d,j as $,C as v,D as y,y as w,z as E,N,O as b,k as D,P as T,Q as j,n as M,E as x,r as I,v as S,x as k,A as z,J as O,R as A,K as C,m as R,T as V,U as W,q as B}from"./stores.94e2f7d8.js";function U({dataTransfer:{files:t,items:e}}){return t.length?[...t]:e.filter(({kind:t})=>"file"===t).map(({getAsFile:t})=>t())}function Z({target:t}){const e=t.files?[...t.files]:[];return t.value="",e}const F=t=>({dragging:2&t}),P=t=>({dragging:t[1]});function H(t){let e,s,b,D,T,j,M,x,I;const S=t[7].default,k=n(S,t,t[6],P);return{c(){e=a("label"),k||(s=a("div"),b=r("Drag & Drop your file(s) or\r\n      "),D=a("strong"),T=r("browse.")),k&&k.c(),j=l(),M=a("input"),this.h()},l(t){e=o(t,"LABEL",{class:!0});var n=i(e);if(!k){s=o(n,"DIV",{});var a=i(s);b=c(a,"Drag & Drop your file(s) or\r\n      "),D=o(a,"STRONG",{});var r=i(D);T=c(r,"browse."),r.forEach(f),a.forEach(f)}k&&k.l(n),j=h(n),M=o(n,"INPUT",{type:!0,multiple:!0,class:!0}),n.forEach(f),this.h()},h(){u(M,"type","file"),M.multiple=t[0],u(M,"class","svelte-159k8ii"),u(e,"class","svelte-159k8ii"),g(e,"dragging",t[1]),I=[p(M,"input",t[4](Z)),p(e,"drop",m(t[4](U))),p(e,"dragover",m(t[2])),p(e,"dragleave",m(t[3]))]},m(t,n){d(t,e,n),k||($(e,s),$(s,b),$(s,D),$(D,T)),k&&k.m(e,null),$(e,j),$(e,M),x=!0},p(t,[s]){k&&k.p&&66&s&&k.p(v(S,t,t[6],P),y(S,t[6],s,F)),(!x||1&s)&&(M.multiple=t[0]),2&s&&g(e,"dragging",t[1])},i(t){x||(w(k,t),x=!0)},o(t){E(k,t),x=!1},d(t){t&&f(e),k&&k.d(t),N(I)}}}function J(t,e,s){let{multiple:n=!0}=e,a=!1;const r=b();function l(){s(1,a=!1)}let{$$slots:o={},$$scope:i}=e;return t.$set=t=>{"multiple"in t&&s(0,n=t.multiple),"$$scope"in t&&s(6,i=t.$$scope)},[n,a,function(){s(1,a=!0)},l,t=>e=>{l();const s=t(e);s.length&&r("input",{files:n?s:s[0]})},r,i,o]}class G extends t{constructor(t){super(),e(this,t,J,H,s,{multiple:0})}}function L(t,e,s){const n=t.slice();return n[2]=e[s][0],n[3]=e[s][1],n}function X(t,e){let s,n,g,p,m,v,y=e[2]+"",w=e[3]+"";return{key:t,first:null,c(){s=a("div"),n=r(y),g=l(),p=a("span"),m=r(w),v=l(),this.h()},l(t){s=o(t,"DIV",{});var e=i(s);n=c(e,y),g=h(e),p=o(e,"SPAN",{class:!0});var a=i(p);m=c(a,w),a.forEach(f),v=h(e),e.forEach(f),this.h()},h(){u(p,"class","text--light"),this.first=s},m(t,e){d(t,s,e),$(s,n),$(s,g),$(s,p),$(p,m),$(s,v)},p(t,e){2&e&&y!==(y=t[2]+"")&&D(n,y),2&e&&w!==(w=t[3]+"")&&D(m,w)},d(t){t&&f(s)}}}function q(t){let e,s,n,g,p,m=[],v=new Map,y=[...t[1]];const w=t=>t[2];for(let e=0;e<y.length;e+=1){let s=L(t,y,e),n=w(s);v.set(n,m[e]=X(n,s))}return{c(){e=a("div"),s=a("h3"),n=r(t[0]),g=l(),p=a("div");for(let t=0;t<m.length;t+=1)m[t].c();this.h()},l(a){e=o(a,"DIV",{class:!0});var r=i(e);s=o(r,"H3",{});var l=i(s);n=c(l,t[0]),l.forEach(f),g=h(r),p=o(r,"DIV",{class:!0});var u=i(p);for(let t=0;t<m.length;t+=1)m[t].l(u);u.forEach(f),r.forEach(f),this.h()},h(){u(p,"class","file-section svelte-15jawgg"),u(e,"class","folder-section")},m(t,a){d(t,e,a),$(e,s),$(s,n),$(e,g),$(e,p);for(let t=0;t<m.length;t+=1)m[t].m(p,null)},p(t,[e]){1&e&&D(n,t[0]);const s=[...t[1]];m=T(m,e,w,1,t,s,v,p,j,X,null,L)},i:M,o:M,d(t){t&&f(e);for(let t=0;t<m.length;t+=1)m[t].d()}}}function K(t,e,s){let{folderName:n}=e,{folder:a}=e;return t.$set=t=>{"folderName"in t&&s(0,n=t.folderName),"folder"in t&&s(1,a=t.folder)},[n,a]}class Q extends t{constructor(t){super(),e(this,t,K,q,s,{folderName:0,folder:1})}}function Y(t,e,s){const n=t.slice();return n[2]=e[s][0],n[3]=e[s][1],n}function _(t,e){let s,n;const a=new Q({props:{folderName:e[2],folder:e[3]}});return{key:t,first:null,c(){s=x(),I(a.$$.fragment),this.h()},l(t){s=x(),S(a.$$.fragment,t),this.h()},h(){this.first=s},m(t,e){d(t,s,e),k(a,t,e),n=!0},p(t,e){const s={};2&e&&(s.folderName=t[2]),2&e&&(s.folder=t[3]),a.$set(s)},i(t){n||(w(a.$$.fragment,t),n=!0)},o(t){E(a.$$.fragment,t),n=!1},d(t){t&&f(s),z(a,t)}}}function tt(t){let e,s,n,g,p,m=[],v=new Map,y=[...t[1]];const N=t=>t[2];for(let e=0;e<y.length;e+=1){let s=Y(t,y,e),n=N(s);v.set(n,m[e]=_(n,s))}return{c(){e=a("h2"),s=r(t[0]),n=l(),g=a("section");for(let t=0;t<m.length;t+=1)m[t].c();this.h()},l(a){e=o(a,"H2",{class:!0});var r=i(e);s=c(r,t[0]),r.forEach(f),n=h(a),g=o(a,"SECTION",{class:!0});var l=i(g);for(let t=0;t<m.length;t+=1)m[t].l(l);l.forEach(f),this.h()},h(){u(e,"class","svelte-2om3na"),u(g,"class","game-section svelte-2om3na")},m(t,a){d(t,e,a),$(e,s),d(t,n,a),d(t,g,a);for(let t=0;t<m.length;t+=1)m[t].m(g,null);p=!0},p(t,[e]){(!p||1&e)&&D(s,t[0]);const n=[...t[1]];O(),m=T(m,e,N,1,t,n,v,g,A,_,null,Y),C()},i(t){if(!p){for(let t=0;t<y.length;t+=1)w(m[t]);p=!0}},o(t){for(let t=0;t<m.length;t+=1)E(m[t]);p=!1},d(t){t&&f(e),t&&f(n),t&&f(g);for(let t=0;t<m.length;t+=1)m[t].d()}}}function et(t,e,s){let{gameName:n}=e,{game:a}=e;return t.$set=t=>{"gameName"in t&&s(0,n=t.gameName),"game"in t&&s(1,a=t.game)},[n,a]}class st extends t{constructor(t){super(),e(this,t,et,tt,s,{gameName:0,game:1})}}const{Map:nt}=W;function at(t,e,s){const n=t.slice();return n[8]=e[s][0],n[9]=e[s][1],n}function rt(t){let e,s,n,l,h,g;return{c(){e=a("section"),s=a("h1"),n=r("Zip Compiler"),l=r("\n    Drag & Drop your file(s) or\n    "),h=a("strong"),g=r("browse."),this.h()},l(t){e=o(t,"SECTION",{class:!0});var a=i(e);s=o(a,"H1",{class:!0});var r=i(s);n=c(r,"Zip Compiler"),r.forEach(f),l=c(a,"\n    Drag & Drop your file(s) or\n    "),h=o(a,"STRONG",{});var u=i(h);g=c(u,"browse."),u.forEach(f),a.forEach(f),this.h()},h(){u(s,"class","svelte-y3o21i"),u(e,"class","file-uploader svelte-y3o21i")},m(t,a){d(t,e,a),$(e,s),$(s,n),$(e,l),$(e,h),$(h,g)},d(t){t&&f(e)}}}function lt(t,e){let s,n;const a=new st({props:{gameName:e[8],game:e[9]}});return{key:t,first:null,c(){s=x(),I(a.$$.fragment),this.h()},l(t){s=x(),S(a.$$.fragment,t),this.h()},h(){this.first=s},m(t,e){d(t,s,e),k(a,t,e),n=!0},p(t,e){const s={};1&e&&(s.gameName=t[8]),1&e&&(s.game=t[9]),a.$set(s)},i(t){n||(w(a.$$.fragment,t),n=!0)},o(t){E(a.$$.fragment,t),n=!1},d(t){t&&f(s),z(a,t)}}}function ot(t){let e,s,n,g,m,v,y,b,D,j,M,R,V,W,B,U=[],Z=new nt;const F=new G({props:{$$slots:{default:[rt]},$$scope:{ctx:t}}});F.$on("input",t[2]);let P=[...t[0]];const H=t=>t[8];for(let e=0;e<P.length;e+=1){let s=at(t,P,e),n=H(s);Z.set(n,U[e]=lt(n,s))}return{c(){e=a("script"),n=l(),I(F.$$.fragment),g=l(),m=a("div"),v=a("button"),y=r("Download"),D=l(),j=a("button"),M=r("Reset"),R=l();for(let t=0;t<U.length;t+=1)U[t].c();V=x(),this.h()},l(t){e=o(t,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),i(e).forEach(f),n=h(t),S(F.$$.fragment,t),g=h(t),m=o(t,"DIV",{class:!0});var s=i(m);v=o(s,"BUTTON",{disabled:!0,type:!0});var a=i(v);y=c(a,"Download"),a.forEach(f),D=h(s),j=o(s,"BUTTON",{type:!0,class:!0});var r=i(j);M=c(r,"Reset"),r.forEach(f),s.forEach(f),R=h(t);for(let e=0;e<U.length;e+=1)U[e].l(t);V=x(),this.h()},h(){document.title="Zip Compiler",e.src!==(s="https://cdn.jsdelivr.net/npm/jszip@3.2.2/dist/jszip.min.js")&&u(e,"src","https://cdn.jsdelivr.net/npm/jszip@3.2.2/dist/jszip.min.js"),u(e,"integrity","sha256-gy5W5/rXWluWXFRvMWFFMVhocfpBe7Tf4SW2WMfjs4E="),u(e,"crossorigin","anonymous"),v.disabled=b=0===t[0].size,u(v,"type","button"),u(j,"type","button"),u(j,"class","button--reset"),u(m,"class","buttons svelte-y3o21i"),B=[p(v,"click",t[3]),p(j,"click",t[1])]},m(t,s){$(document.head,e),d(t,n,s),k(F,t,s),d(t,g,s),d(t,m,s),$(m,v),$(v,y),$(m,D),$(m,j),$(j,M),d(t,R,s);for(let e=0;e<U.length;e+=1)U[e].m(t,s);d(t,V,s),W=!0},p(t,[e]){const s={};4096&e&&(s.$$scope={dirty:e,ctx:t}),F.$set(s),(!W||1&e&&b!==(b=0===t[0].size))&&(v.disabled=b);const n=[...t[0]];O(),U=T(U,e,H,1,t,n,Z,V.parentNode,A,lt,V,at),C()},i(t){if(!W){w(F.$$.fragment,t);for(let t=0;t<P.length;t+=1)w(U[t]);W=!0}},o(t){E(F.$$.fragment,t);for(let t=0;t<U.length;t+=1)E(U[t]);W=!1},d(t){f(e),t&&f(n),z(F,t),t&&f(g),t&&f(m),t&&f(R);for(let e=0;e<U.length;e+=1)U[e].d(t);t&&f(V),N(B)}}}function it(t,e){return e.slice(e.lastIndexOf(t)+1)}function ct(t,e,s){let n,a;R(t,B,t=>s(5,n=t));let r=new Map;function l(){a=new JSZip,s(0,r=new Map)}async function o(t){(await JSZip.loadAsync(t)).forEach(async(e,s)=>{if(s.dir)return;const l=it("/",e),o=it(".",l),i=n[o];i&&(!function(t,e,s,n){r.has(t)||r.set(t,new Map);const a=r.get(t);a.has(e)||a.set(e,new Map),a.get(e).set(s,n)}(n.game,i,l,t.name),a.file(`${n.game}\\${i}\\${l}`,await s.async("Uint8Array")))}),s(0,r)}return V(l),[r,l,function(t){t.detail.files.forEach(o)},async function(){const t=await a.generateAsync({type:"base64"});window.location="data:application/zip;base64,"+t}]}export default class extends t{constructor(t){super(),e(this,t,ct,ot,s,{})}}
