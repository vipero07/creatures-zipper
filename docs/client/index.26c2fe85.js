import{S as e,i as t,s,B as n,e as a,t as r,u as l,c as o,a as i,b as c,d as f,w as h,f as u,g,l as p,M as m,h as d,j as $,C as v,D as y,y as N,z as w,N as E,O as b,k as D,P as j,Q as x,n as T,E as I,r as M,v as S,x as k,A as z,J as O,R as A,K as C,m as R,T as B,U as F,q as V}from"./stores.94e2f7d8.js";function W({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter(({kind:e})=>"file"===e).map(({getAsFile:e})=>e())}function U({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}const Z=e=>({dragging:2&e}),P=e=>({dragging:e[1]});function H(e){let t,s,b,D,j,x,T,I,M;const S=e[7].default,k=n(S,e,e[6],P);return{c(){t=a("label"),k||(s=a("div"),b=r("Drag & Drop your file(s) or\r\n      "),D=a("strong"),j=r("browse.")),k&&k.c(),x=l(),T=a("input"),this.h()},l(e){t=o(e,"LABEL",{class:!0});var n=i(t);if(!k){s=o(n,"DIV",{});var a=i(s);b=c(a,"Drag & Drop your file(s) or\r\n      "),D=o(a,"STRONG",{});var r=i(D);j=c(r,"browse."),r.forEach(f),a.forEach(f)}k&&k.l(n),x=h(n),T=o(n,"INPUT",{type:!0,multiple:!0,class:!0}),n.forEach(f),this.h()},h(){u(T,"type","file"),T.multiple=e[0],u(T,"class","svelte-159k8ii"),u(t,"class","svelte-159k8ii"),g(t,"dragging",e[1]),M=[p(T,"input",e[4](U)),p(t,"drop",m(e[4](W))),p(t,"dragover",m(e[2])),p(t,"dragleave",m(e[3]))]},m(e,n){d(e,t,n),k||($(t,s),$(s,b),$(s,D),$(D,j)),k&&k.m(t,null),$(t,x),$(t,T),I=!0},p(e,[s]){k&&k.p&&66&s&&k.p(v(S,e,e[6],P),y(S,e[6],s,Z)),(!I||1&s)&&(T.multiple=e[0]),2&s&&g(t,"dragging",e[1])},i(e){I||(N(k,e),I=!0)},o(e){w(k,e),I=!1},d(e){e&&f(t),k&&k.d(e),E(M)}}}function J(e,t,s){let{multiple:n=!0}=t,a=!1;const r=b();function l(){s(1,a=!1)}let{$$slots:o={},$$scope:i}=t;return e.$set=e=>{"multiple"in e&&s(0,n=e.multiple),"$$scope"in e&&s(6,i=e.$$scope)},[n,a,function(){s(1,a=!0)},l,e=>t=>{l();const s=e(t);s.length&&r("input",{files:n?s:s[0]})},r,i,o]}class G extends e{constructor(e){super(),t(this,e,J,H,s,{multiple:0})}}function L(e,t,s){const n=e.slice();return n[2]=t[s][0],n[3]=t[s][1],n}function X(e,t){let s,n,g,p,m,v,y=t[2]+"",N=t[3]+"";return{key:e,first:null,c(){s=a("div"),n=r(y),g=l(),p=a("span"),m=r(N),v=l(),this.h()},l(e){s=o(e,"DIV",{});var t=i(s);n=c(t,y),g=h(t),p=o(t,"SPAN",{class:!0});var a=i(p);m=c(a,N),a.forEach(f),v=h(t),t.forEach(f),this.h()},h(){u(p,"class","text--light"),this.first=s},m(e,t){d(e,s,t),$(s,n),$(s,g),$(s,p),$(p,m),$(s,v)},p(e,t){2&t&&y!==(y=e[2]+"")&&D(n,y),2&t&&N!==(N=e[3]+"")&&D(m,N)},d(e){e&&f(s)}}}function q(e){let t,s,n,g,p,m=[],v=new Map,y=[...e[1]];const N=e=>e[2];for(let t=0;t<y.length;t+=1){let s=L(e,y,t),n=N(s);v.set(n,m[t]=X(n,s))}return{c(){t=a("div"),s=a("h3"),n=r(e[0]),g=l(),p=a("div");for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(a){t=o(a,"DIV",{class:!0});var r=i(t);s=o(r,"H3",{});var l=i(s);n=c(l,e[0]),l.forEach(f),g=h(r),p=o(r,"DIV",{class:!0});var u=i(p);for(let e=0;e<m.length;e+=1)m[e].l(u);u.forEach(f),r.forEach(f),this.h()},h(){u(p,"class","file-section svelte-15jawgg"),u(t,"class","folder-section")},m(e,a){d(e,t,a),$(t,s),$(s,n),$(t,g),$(t,p);for(let e=0;e<m.length;e+=1)m[e].m(p,null)},p(e,[t]){1&t&&D(n,e[0]);const s=[...e[1]];m=j(m,t,N,1,e,s,v,p,x,X,null,L)},i:T,o:T,d(e){e&&f(t);for(let e=0;e<m.length;e+=1)m[e].d()}}}function K(e,t,s){let{folderName:n}=t,{folder:a}=t;return e.$set=e=>{"folderName"in e&&s(0,n=e.folderName),"folder"in e&&s(1,a=e.folder)},[n,a]}class Q extends e{constructor(e){super(),t(this,e,K,q,s,{folderName:0,folder:1})}}function Y(e,t,s){const n=e.slice();return n[2]=t[s][0],n[3]=t[s][1],n}function _(e,t){let s,n;const a=new Q({props:{folderName:t[2],folder:t[3]}});return{key:e,first:null,c(){s=I(),M(a.$$.fragment),this.h()},l(e){s=I(),S(a.$$.fragment,e),this.h()},h(){this.first=s},m(e,t){d(e,s,t),k(a,e,t),n=!0},p(e,t){const s={};2&t&&(s.folderName=e[2]),2&t&&(s.folder=e[3]),a.$set(s)},i(e){n||(N(a.$$.fragment,e),n=!0)},o(e){w(a.$$.fragment,e),n=!1},d(e){e&&f(s),z(a,e)}}}function ee(e){let t,s,n,g,p,m=[],v=new Map,y=[...e[1]];const E=e=>e[2];for(let t=0;t<y.length;t+=1){let s=Y(e,y,t),n=E(s);v.set(n,m[t]=_(n,s))}return{c(){t=a("h2"),s=r(e[0]),n=l(),g=a("section");for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(a){t=o(a,"H2",{class:!0});var r=i(t);s=c(r,e[0]),r.forEach(f),n=h(a),g=o(a,"SECTION",{class:!0});var l=i(g);for(let e=0;e<m.length;e+=1)m[e].l(l);l.forEach(f),this.h()},h(){u(t,"class","svelte-2om3na"),u(g,"class","game-section svelte-2om3na")},m(e,a){d(e,t,a),$(t,s),d(e,n,a),d(e,g,a);for(let e=0;e<m.length;e+=1)m[e].m(g,null);p=!0},p(e,[t]){(!p||1&t)&&D(s,e[0]);const n=[...e[1]];O(),m=j(m,t,E,1,e,n,v,g,A,_,null,Y),C()},i(e){if(!p){for(let e=0;e<y.length;e+=1)N(m[e]);p=!0}},o(e){for(let e=0;e<m.length;e+=1)w(m[e]);p=!1},d(e){e&&f(t),e&&f(n),e&&f(g);for(let e=0;e<m.length;e+=1)m[e].d()}}}function te(e,t,s){let{gameName:n}=t,{game:a}=t;return e.$set=e=>{"gameName"in e&&s(0,n=e.gameName),"game"in e&&s(1,a=e.game)},[n,a]}class se extends e{constructor(e){super(),t(this,e,te,ee,s,{gameName:0,game:1})}}const{Map:ne}=F;function ae(e,t,s){const n=e.slice();return n[8]=t[s][0],n[9]=t[s][1],n}function re(e){let t,s,n,l,h,g;return{c(){t=a("section"),s=a("h1"),n=r("Zip Compiler"),l=r("\n    Drag & Drop your file(s) or\n    "),h=a("strong"),g=r("browse."),this.h()},l(e){t=o(e,"SECTION",{class:!0});var a=i(t);s=o(a,"H1",{class:!0});var r=i(s);n=c(r,"Zip Compiler"),r.forEach(f),l=c(a,"\n    Drag & Drop your file(s) or\n    "),h=o(a,"STRONG",{});var u=i(h);g=c(u,"browse."),u.forEach(f),a.forEach(f),this.h()},h(){u(s,"class","svelte-jt5cgv"),u(t,"class","file-uploader svelte-jt5cgv")},m(e,a){d(e,t,a),$(t,s),$(s,n),$(t,l),$(t,h),$(h,g)},d(e){e&&f(t)}}}function le(e,t){let s,n;const a=new se({props:{gameName:t[8],game:t[9]}});return{key:e,first:null,c(){s=I(),M(a.$$.fragment),this.h()},l(e){s=I(),S(a.$$.fragment,e),this.h()},h(){this.first=s},m(e,t){d(e,s,t),k(a,e,t),n=!0},p(e,t){const s={};1&t&&(s.gameName=e[8]),1&t&&(s.game=e[9]),a.$set(s)},i(e){n||(N(a.$$.fragment,e),n=!0)},o(e){w(a.$$.fragment,e),n=!1},d(e){e&&f(s),z(a,e)}}}function oe(e){let t,s,n,g,m,v,y,b,D,x,T,R,B,F,V,W=[],U=new ne;const Z=new G({props:{$$slots:{default:[re]},$$scope:{ctx:e}}});Z.$on("input",e[2]);let P=[...e[0]];const H=e=>e[8];for(let t=0;t<P.length;t+=1){let s=ae(e,P,t),n=H(s);U.set(n,W[t]=le(n,s))}return{c(){t=a("script"),n=l(),M(Z.$$.fragment),g=l(),m=a("div"),v=a("button"),y=r("Download"),D=l(),x=a("button"),T=r("Reset"),R=l();for(let e=0;e<W.length;e+=1)W[e].c();B=I(),this.h()},l(e){t=o(e,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),i(t).forEach(f),n=h(e),S(Z.$$.fragment,e),g=h(e),m=o(e,"DIV",{class:!0});var s=i(m);v=o(s,"BUTTON",{disabled:!0,type:!0});var a=i(v);y=c(a,"Download"),a.forEach(f),D=h(s),x=o(s,"BUTTON",{type:!0,class:!0});var r=i(x);T=c(r,"Reset"),r.forEach(f),s.forEach(f),R=h(e);for(let t=0;t<W.length;t+=1)W[t].l(e);B=I(),this.h()},h(){document.title="Zip Compiler",t.src!==(s="https://cdn.jsdelivr.net/npm/jszip@3.2.2/dist/jszip.min.js")&&u(t,"src","https://cdn.jsdelivr.net/npm/jszip@3.2.2/dist/jszip.min.js"),u(t,"integrity","sha256-gy5W5/rXWluWXFRvMWFFMVhocfpBe7Tf4SW2WMfjs4E="),u(t,"crossorigin","anonymous"),v.disabled=b=0===e[0].size,u(v,"type","button"),u(x,"type","button"),u(x,"class","button--reset"),u(m,"class","buttons svelte-jt5cgv"),V=[p(v,"click",e[3]),p(x,"click",e[1])]},m(e,s){$(document.head,t),d(e,n,s),k(Z,e,s),d(e,g,s),d(e,m,s),$(m,v),$(v,y),$(m,D),$(m,x),$(x,T),d(e,R,s);for(let t=0;t<W.length;t+=1)W[t].m(e,s);d(e,B,s),F=!0},p(e,[t]){const s={};4096&t&&(s.$$scope={dirty:t,ctx:e}),Z.$set(s),(!F||1&t&&b!==(b=0===e[0].size))&&(v.disabled=b);const n=[...e[0]];O(),W=j(W,t,H,1,e,n,U,B.parentNode,A,le,B,ae),C()},i(e){if(!F){N(Z.$$.fragment,e);for(let e=0;e<P.length;e+=1)N(W[e]);F=!0}},o(e){w(Z.$$.fragment,e);for(let e=0;e<W.length;e+=1)w(W[e]);F=!1},d(e){f(t),e&&f(n),z(Z,e),e&&f(g),e&&f(m),e&&f(R);for(let t=0;t<W.length;t+=1)W[t].d(e);e&&f(B),E(V)}}}function ie(e,t){return t.slice(t.lastIndexOf(e)+1)}function ce(e,t){return e.get(t)||e.set(t,new Map).get(t)}function fe(e,t,s){let n,a;R(e,V,e=>s(5,n=e));let r=new Map;function l(){a=new JSZip,s(0,r=new Map)}function o({fileName:e,extension:t,file:s,originalFile:l}){const o=n[t];if(!o)return;const i=ce(r,n.game);ce(i,o).set(e,l||e),a.file(`${n.game}\\${o}\\${e}`,s)}async function i(e){const{name:t}=e,s=ie(".",t);"zip"===s?(await JSZip.loadAsync(e)).forEach(async(e,s)=>{if(s.dir)return;const n=ie("/",e);o({fileName:n,extension:ie(".",n),file:await s.async("Uint8Array"),originalFile:t})}):o({fileName:t,extension:s,file:await e.arrayBuffer()})}return B(l),[r,l,function(e){e.detail.files.forEach(i),s(0,r)},async function(){const e=await a.generateAsync({type:"base64"});window.location="data:application/zip;base64,"+e}]}export default class extends e{constructor(e){super(),t(this,e,fe,oe,s,{})}}
