import{S as e,i as t,s,C as n,e as a,t as r,v as l,c as i,a as o,b as c,d as f,x as h,f as u,g,l as p,N as m,h as d,j as $,D as v,E as y,z as E,A as N,O as w,P as b,k,Q as D,R as x,n as T,F as M,u as S,w as j,y as O,B as I,K as z,T as A,L as C,m as B,U as F,V as R,p as V}from"./stores.faa7e155.js";function U({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter(({kind:e})=>"file"===e).map(({getAsFile:e})=>e())}function W({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}const L=e=>({dragging:2&e}),P=e=>({dragging:e[1]});function X(e){let t,s,b,k,D,x,T,M,S;const j=e[7].default,O=n(j,e,e[6],P);return{c(){t=a("label"),O||(s=a("div"),b=r("Drag & Drop your file(s) or\r\n      "),k=a("strong"),D=r("browse.")),O&&O.c(),x=l(),T=a("input"),this.h()},l(e){t=i(e,"LABEL",{class:!0});var n=o(t);if(!O){s=i(n,"DIV",{});var a=o(s);b=c(a,"Drag & Drop your file(s) or\r\n      "),k=i(a,"STRONG",{});var r=o(k);D=c(r,"browse."),r.forEach(f),a.forEach(f)}O&&O.l(n),x=h(n),T=i(n,"INPUT",{type:!0,multiple:!0,class:!0}),n.forEach(f),this.h()},h(){u(T,"type","file"),T.multiple=e[0],u(T,"class","svelte-159k8ii"),u(t,"class","svelte-159k8ii"),g(t,"dragging",e[1]),S=[p(T,"input",e[4](W)),p(t,"drop",m(e[4](U))),p(t,"dragover",m(e[2])),p(t,"dragleave",m(e[3]))]},m(e,n){d(e,t,n),O||($(t,s),$(s,b),$(s,k),$(k,D)),O&&O.m(t,null),$(t,x),$(t,T),M=!0},p(e,[s]){O&&O.p&&66&s&&O.p(v(j,e,e[6],P),y(j,e[6],s,L)),(!M||1&s)&&(T.multiple=e[0]),2&s&&g(t,"dragging",e[1])},i(e){M||(E(O,e),M=!0)},o(e){N(O,e),M=!1},d(e){e&&f(t),O&&O.d(e),w(S)}}}function Z(e,t,s){let{multiple:n=!0}=t,a=!1;const r=b();function l(){s(1,a=!1)}let{$$slots:i={},$$scope:o}=t;return e.$set=e=>{"multiple"in e&&s(0,n=e.multiple),"$$scope"in e&&s(6,o=e.$$scope)},[n,a,function(){s(1,a=!0)},l,e=>t=>{l();const s=e(t);s.length&&r("input",{files:n?s:s[0]})},r,o,i]}class q extends e{constructor(e){super(),t(this,e,Z,X,s,{multiple:0})}}function H(e,t,s){const n=e.slice();return n[2]=t[s][0],n[3]=t[s][1],n}function G(e,t){let s,n,g,p,m,v,y=t[2]+"",E=t[3]+"";return{key:e,first:null,c(){s=a("div"),n=r(y),g=l(),p=a("span"),m=r(E),v=l(),this.h()},l(e){s=i(e,"DIV",{});var t=o(s);n=c(t,y),g=h(t),p=i(t,"SPAN",{class:!0});var a=o(p);m=c(a,E),a.forEach(f),v=h(t),t.forEach(f),this.h()},h(){u(p,"class","text--light"),this.first=s},m(e,t){d(e,s,t),$(s,n),$(s,g),$(s,p),$(p,m),$(s,v)},p(e,t){2&t&&y!==(y=e[2]+"")&&k(n,y),2&t&&E!==(E=e[3]+"")&&k(m,E)},d(e){e&&f(s)}}}function J(e){let t,s,n,g,p,m=[],v=new Map,y=[...e[1]];const E=e=>e[2];for(let t=0;t<y.length;t+=1){let s=H(e,y,t),n=E(s);v.set(n,m[t]=G(n,s))}return{c(){t=a("div"),s=a("h3"),n=r(e[0]),g=l(),p=a("div");for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(a){t=i(a,"DIV",{class:!0});var r=o(t);s=i(r,"H3",{});var l=o(s);n=c(l,e[0]),l.forEach(f),g=h(r),p=i(r,"DIV",{class:!0});var u=o(p);for(let e=0;e<m.length;e+=1)m[e].l(u);u.forEach(f),r.forEach(f),this.h()},h(){u(p,"class","file-section svelte-15jawgg"),u(t,"class","folder-section")},m(e,a){d(e,t,a),$(t,s),$(s,n),$(t,g),$(t,p);for(let e=0;e<m.length;e+=1)m[e].m(p,null)},p(e,[t]){1&t&&k(n,e[0]);const s=[...e[1]];m=D(m,t,E,1,e,s,v,p,x,G,null,H)},i:T,o:T,d(e){e&&f(t);for(let e=0;e<m.length;e+=1)m[e].d()}}}function _(e,t,s){let{folderName:n}=t,{folder:a}=t;return e.$set=e=>{"folderName"in e&&s(0,n=e.folderName),"folder"in e&&s(1,a=e.folder)},[n,a]}class K extends e{constructor(e){super(),t(this,e,_,J,s,{folderName:0,folder:1})}}function Q(e,t,s){const n=e.slice();return n[2]=t[s][0],n[3]=t[s][1],n}function Y(e,t){let s,n;const a=new K({props:{folderName:t[2],folder:t[3]}});return{key:e,first:null,c(){s=M(),S(a.$$.fragment),this.h()},l(e){s=M(),j(a.$$.fragment,e),this.h()},h(){this.first=s},m(e,t){d(e,s,t),O(a,e,t),n=!0},p(e,t){const s={};2&t&&(s.folderName=e[2]),2&t&&(s.folder=e[3]),a.$set(s)},i(e){n||(E(a.$$.fragment,e),n=!0)},o(e){N(a.$$.fragment,e),n=!1},d(e){e&&f(s),I(a,e)}}}function ee(e){let t,s,n,g,p,m=[],v=new Map,y=[...e[1]];const w=e=>e[2];for(let t=0;t<y.length;t+=1){let s=Q(e,y,t),n=w(s);v.set(n,m[t]=Y(n,s))}return{c(){t=a("h2"),s=r(e[0]),n=l(),g=a("section");for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(a){t=i(a,"H2",{class:!0});var r=o(t);s=c(r,e[0]),r.forEach(f),n=h(a),g=i(a,"SECTION",{class:!0});var l=o(g);for(let e=0;e<m.length;e+=1)m[e].l(l);l.forEach(f),this.h()},h(){u(t,"class","svelte-2om3na"),u(g,"class","game-section svelte-2om3na")},m(e,a){d(e,t,a),$(t,s),d(e,n,a),d(e,g,a);for(let e=0;e<m.length;e+=1)m[e].m(g,null);p=!0},p(e,[t]){(!p||1&t)&&k(s,e[0]);const n=[...e[1]];z(),m=D(m,t,w,1,e,n,v,g,A,Y,null,Q),C()},i(e){if(!p){for(let e=0;e<y.length;e+=1)E(m[e]);p=!0}},o(e){for(let e=0;e<m.length;e+=1)N(m[e]);p=!1},d(e){e&&f(t),e&&f(n),e&&f(g);for(let e=0;e<m.length;e+=1)m[e].d()}}}function te(e,t,s){let{gameName:n}=t,{game:a}=t;return e.$set=e=>{"gameName"in e&&s(0,n=e.gameName),"game"in e&&s(1,a=e.game)},[n,a]}class se extends e{constructor(e){super(),t(this,e,te,ee,s,{gameName:0,game:1})}}const{Map:ne}=R;function ae(e,t,s){const n=e.slice();return n[10]=t[s][0],n[11]=t[s][1],n}function re(e){let t,s,n,l,h,g;return{c(){t=a("section"),s=a("h1"),n=r("Zip Compiler"),l=r("\r\n    Drag & Drop your file(s) or\r\n    "),h=a("strong"),g=r("browse."),this.h()},l(e){t=i(e,"SECTION",{class:!0});var a=o(t);s=i(a,"H1",{class:!0});var r=o(s);n=c(r,"Zip Compiler"),r.forEach(f),l=c(a,"\r\n    Drag & Drop your file(s) or\r\n    "),h=i(a,"STRONG",{});var u=o(h);g=c(u,"browse."),u.forEach(f),a.forEach(f),this.h()},h(){u(s,"class","svelte-qs5kv1"),u(t,"class","file-uploader svelte-qs5kv1")},m(e,a){d(e,t,a),$(t,s),$(s,n),$(t,l),$(t,h),$(h,g)},d(e){e&&f(t)}}}function le(e,t){let s,n;const a=new se({props:{gameName:t[10],game:t[11]}});return{key:e,first:null,c(){s=M(),S(a.$$.fragment),this.h()},l(e){s=M(),j(a.$$.fragment,e),this.h()},h(){this.first=s},m(e,t){d(e,s,t),O(a,e,t),n=!0},p(e,t){const s={};2&t&&(s.gameName=e[10]),2&t&&(s.game=e[11]),a.$set(s)},i(e){n||(E(a.$$.fragment,e),n=!0)},o(e){N(a.$$.fragment,e),n=!1},d(e){e&&f(s),I(a,e)}}}function ie(e){let t,s,n,g,m,v,y,b,k,x,T,B,F,R,V,U,W,L,P,X=[],Z=new ne;const H=new q({props:{$$slots:{default:[re]},$$scope:{ctx:e}}});H.$on("input",e[3]);let G=[...e[1]];const J=e=>e[10];for(let t=0;t<G.length;t+=1){let s=ae(e,G,t),n=J(s);Z.set(n,X[t]=le(n,s))}return{c(){t=a("script"),n=l(),S(H.$$.fragment),g=l(),m=a("div"),v=a("button"),y=r("Download"),k=l(),x=a("label"),T=r("Mac OSX\r\n    "),B=a("input"),F=l(),R=a("button"),V=r("Reset"),U=l();for(let e=0;e<X.length;e+=1)X[e].c();W=M(),this.h()},l(e){t=i(e,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),o(t).forEach(f),n=h(e),j(H.$$.fragment,e),g=h(e),m=i(e,"DIV",{class:!0});var s=o(m);v=i(s,"BUTTON",{disabled:!0,type:!0});var a=o(v);y=c(a,"Download"),a.forEach(f),k=h(s),x=i(s,"LABEL",{title:!0});var r=o(x);T=c(r,"Mac OSX\r\n    "),B=i(r,"INPUT",{type:!0}),r.forEach(f),F=h(s),R=i(s,"BUTTON",{type:!0,class:!0});var l=o(R);V=c(l,"Reset"),l.forEach(f),s.forEach(f),U=h(e);for(let t=0;t<X.length;t+=1)X[t].l(e);W=M(),this.h()},h(){document.title="Zip Compiler",t.src!==(s="https://cdn.jsdelivr.net/npm/jszip@3.2.2/dist/jszip.min.js")&&u(t,"src","https://cdn.jsdelivr.net/npm/jszip@3.2.2/dist/jszip.min.js"),u(t,"integrity","sha256-gy5W5/rXWluWXFRvMWFFMVhocfpBe7Tf4SW2WMfjs4E="),u(t,"crossorigin","anonymous"),v.disabled=b=0===e[1].size,u(v,"type","button"),u(B,"type","checkbox"),u(x,"title","This doesn't guarentee Mac compatibility, it only removes or allows\r\n    designated mac files."),u(R,"type","button"),u(R,"class","button--reset"),u(m,"class","buttons svelte-qs5kv1"),P=[p(v,"click",e[4]),p(B,"change",e[9]),p(R,"click",e[2])]},m(s,a){$(document.head,t),d(s,n,a),O(H,s,a),d(s,g,a),d(s,m,a),$(m,v),$(v,y),$(m,k),$(m,x),$(x,T),$(x,B),B.checked=e[0],$(m,F),$(m,R),$(R,V),d(s,U,a);for(let e=0;e<X.length;e+=1)X[e].m(s,a);d(s,W,a),L=!0},p(e,[t]){const s={};16384&t&&(s.$$scope={dirty:t,ctx:e}),H.$set(s),(!L||2&t&&b!==(b=0===e[1].size))&&(v.disabled=b),1&t&&(B.checked=e[0]);const n=[...e[1]];z(),X=D(X,t,J,1,e,n,Z,W.parentNode,A,le,W,ae),C()},i(e){if(!L){E(H.$$.fragment,e);for(let e=0;e<G.length;e+=1)E(X[e]);L=!0}},o(e){N(H.$$.fragment,e);for(let e=0;e<X.length;e+=1)N(X[e]);L=!1},d(e){f(t),e&&f(n),I(H,e),e&&f(g),e&&f(m),e&&f(U);for(let t=0;t<X.length;t+=1)X[t].d(e);e&&f(W),w(P)}}}function oe(e,t){return t.slice(t.lastIndexOf(e)+1)}function ce(e,t){return e.get(t)||e.set(t,new Map).get(t)}function fe(e,t,s){let n,a;B(e,V,e=>s(6,n=e));let r=!1,l=new Map;function i(){a=new JSZip,s(1,l=new Map)}function o({fileName:e,extension:t,file:r,originalFile:i}){const o=n[t];if(!o)return;const c=ce(l,n.game);ce(c,o).set(e,i||e),a.file(`${n.game}/${o}/${e}`,r),s(1,l)}async function c(e){const{name:t}=e,s=oe(".",t);"zip"===s?(await JSZip.loadAsync(e)).forEach(async(e,s)=>{if(s.dir||!r&&-1!==e.indexOf("__MACOSX"))return;const n=oe("/",e);o({fileName:n,extension:oe(".",n),file:await s.async("Uint8Array"),originalFile:t})}):o({fileName:t,extension:s,file:await e.arrayBuffer()})}return F(i),[r,l,i,function(e){e.detail.files.forEach(c)},async function(){const e=await a.generateAsync({type:"base64"});window.location="data:application/zip;base64,"+e},a,n,o,c,function(){r=this.checked,s(0,r)}]}export default class extends e{constructor(e){super(),t(this,e,fe,ie,s,{})}}
