import{V as n,_ as t,a as r,b as e,c as a,i,s,d as o,S as c,G as f,e as u,t as l,z as h,f as v,g as p,h as g,j as m,B as d,k as $,l as y,m as w,W as E,n as N,o as b,p as x,H as D,I as j,D as k,E as T,X as I,Y as S,q as z,Z as M,$ as O,r as A,J as C,y as F,A as R,C as V,F as W,O as B,a0 as Z,P as H,u as P,a1 as U,R as G,T as J,a2 as X,x as L}from"./stores.9fa80ccb.js";function q(t){var r=t.dataTransfer,e=r.files,a=r.items;return e.length?n(e):a.filter((function(n){return"file"===n.kind})).map((function(n){return(0,n.getAsFile)()}))}function Y(t){var r=t.target,e=r.files?n(r.files):[];return r.value="",e}var _=function(n){return{dragging:2&n}},K=function(n){return{dragging:n[1]}};function Q(n){var t,r,e,a,i,s,o,c,S,z=n[7].default,M=f(z,n,n[6],K);return{c:function(){t=u("label"),M||(r=u("div"),e=l("Drag & Drop your file(s) or\r\n      "),a=u("strong"),i=l("browse.")),M&&M.c(),s=h(),o=u("input"),this.h()},l:function(n){t=v(n,"LABEL",{class:!0});var c=p(t);if(!M){r=v(c,"DIV",{});var f=p(r);e=g(f,"Drag & Drop your file(s) or\r\n      "),a=v(f,"STRONG",{});var u=p(a);i=g(u,"browse."),u.forEach(m),f.forEach(m)}M&&M.l(c),s=d(c),o=v(c,"INPUT",{type:!0,multiple:!0,class:!0}),c.forEach(m),this.h()},h:function(){$(o,"type","file"),o.multiple=n[0],$(o,"class","svelte-159k8ii"),$(t,"class","svelte-159k8ii"),y(t,"dragging",n[1]),S=[w(o,"input",n[4](Y)),w(t,"drop",E(n[4](q))),w(t,"dragover",E(n[2])),w(t,"dragleave",E(n[3]))]},m:function(n,f){N(n,t,f),M||(b(t,r),b(r,e),b(r,a),b(a,i)),M&&M.m(t,null),b(t,s),b(t,o),c=!0},p:function(n,r){var e=x(r,1)[0];M&&M.p&&66&e&&M.p(D(z,n,n[6],K),j(z,n[6],e,_)),(!c||1&e)&&(o.multiple=n[0]),2&e&&y(t,"dragging",n[1])},i:function(n){c||(k(M,n),c=!0)},o:function(n){T(M,n),c=!1},d:function(n){n&&m(t),M&&M.d(n),I(S)}}}function nn(n,t,r){var e=t.multiple,a=void 0===e||e,i=!1,s=S();function o(){r(1,i=!1)}var c=t.$$slots,f=void 0===c?{}:c,u=t.$$scope;return n.$set=function(n){"multiple"in n&&r(0,a=n.multiple),"$$scope"in n&&r(6,u=n.$$scope)},[a,i,function(){r(1,i=!0)},o,function(n){return function(t){o();var r=n(t);r.length&&s("input",{files:a?r:r[0]})}},s,u,f]}var tn=function(n){function f(n){var t;return r(this,f),t=e(this,a(f).call(this)),i(o(t),n,nn,Q,s,{multiple:0}),t}return t(f,c),f}();function rn(n,t,r){var e=n.slice();return e[2]=t[r][0],e[3]=t[r][1],e}function en(n,t){var r,e,a,i,s,o,c=t[2]+"",f=t[3]+"";return{key:n,first:null,c:function(){r=u("div"),e=l(c),a=h(),i=u("span"),s=l(f),o=h(),this.h()},l:function(n){r=v(n,"DIV",{});var t=p(r);e=g(t,c),a=d(t),i=v(t,"SPAN",{class:!0});var u=p(i);s=g(u,f),u.forEach(m),o=d(t),t.forEach(m),this.h()},h:function(){$(i,"class","text--light"),this.first=r},m:function(n,t){N(n,r,t),b(r,e),b(r,a),b(r,i),b(i,s),b(r,o)},p:function(n,t){2&t&&c!==(c=n[2]+"")&&z(e,c),2&t&&f!==(f=n[3]+"")&&z(s,f)},d:function(n){n&&m(r)}}}function an(t){for(var r,e,a,i,s,o=[],c=new Map,f=n(t[1]),y=function(n){return n[2]},w=0;w<f.length;w+=1){var E=rn(t,f,w),D=y(E);c.set(D,o[w]=en(D,E))}return{c:function(){r=u("div"),e=u("h3"),a=l(t[0]),i=h(),s=u("div");for(var n=0;n<o.length;n+=1)o[n].c();this.h()},l:function(n){r=v(n,"DIV",{class:!0});var c=p(r);e=v(c,"H3",{});var f=p(e);a=g(f,t[0]),f.forEach(m),i=d(c),s=v(c,"DIV",{class:!0});for(var u=p(s),l=0;l<o.length;l+=1)o[l].l(u);u.forEach(m),c.forEach(m),this.h()},h:function(){$(s,"class","file-section svelte-15jawgg"),$(r,"class","folder-section")},m:function(n,t){N(n,r,t),b(r,e),b(e,a),b(r,i),b(r,s);for(var c=0;c<o.length;c+=1)o[c].m(s,null)},p:function(t,r){var e=x(r,1)[0];1&e&&z(a,t[0]);var i=n(t[1]);o=M(o,e,y,1,t,i,c,s,O,en,null,rn)},i:A,o:A,d:function(n){n&&m(r);for(var t=0;t<o.length;t+=1)o[t].d()}}}function sn(n,t,r){var e=t.folderName,a=t.folder;return n.$set=function(n){"folderName"in n&&r(0,e=n.folderName),"folder"in n&&r(1,a=n.folder)},[e,a]}var on=function(n){function f(n){var t;return r(this,f),t=e(this,a(f).call(this)),i(o(t),n,sn,an,s,{folderName:0,folder:1}),t}return t(f,c),f}();function cn(n,t,r){var e=n.slice();return e[2]=t[r][0],e[3]=t[r][1],e}function fn(n,t){var r,e,a=new on({props:{folderName:t[2],folder:t[3]}});return{key:n,first:null,c:function(){r=C(),F(a.$$.fragment),this.h()},l:function(n){r=C(),R(a.$$.fragment,n),this.h()},h:function(){this.first=r},m:function(n,t){N(n,r,t),V(a,n,t),e=!0},p:function(n,t){var r={};2&t&&(r.folderName=n[2]),2&t&&(r.folder=n[3]),a.$set(r)},i:function(n){e||(k(a.$$.fragment,n),e=!0)},o:function(n){T(a.$$.fragment,n),e=!1},d:function(n){n&&m(r),W(a,n)}}}function un(t){for(var r,e,a,i,s,o=[],c=new Map,f=n(t[1]),y=function(n){return n[2]},w=0;w<f.length;w+=1){var E=cn(t,f,w),D=y(E);c.set(D,o[w]=fn(D,E))}return{c:function(){r=u("h2"),e=l(t[0]),a=h(),i=u("section");for(var n=0;n<o.length;n+=1)o[n].c();this.h()},l:function(n){r=v(n,"H2",{class:!0});var s=p(r);e=g(s,t[0]),s.forEach(m),a=d(n),i=v(n,"SECTION",{class:!0});for(var c=p(i),f=0;f<o.length;f+=1)o[f].l(c);c.forEach(m),this.h()},h:function(){$(r,"class","svelte-2om3na"),$(i,"class","game-section svelte-2om3na")},m:function(n,t){N(n,r,t),b(r,e),N(n,a,t),N(n,i,t);for(var c=0;c<o.length;c+=1)o[c].m(i,null);s=!0},p:function(t,r){var a=x(r,1)[0];(!s||1&a)&&z(e,t[0]);var f=n(t[1]);B(),o=M(o,a,y,1,t,f,c,i,Z,fn,null,cn),H()},i:function(n){if(!s){for(var t=0;t<f.length;t+=1)k(o[t]);s=!0}},o:function(n){for(var t=0;t<o.length;t+=1)T(o[t]);s=!1},d:function(n){n&&m(r),n&&m(a),n&&m(i);for(var t=0;t<o.length;t+=1)o[t].d()}}}function ln(n,t,r){var e=t.gameName,a=t.game;return n.$set=function(n){"gameName"in n&&r(0,e=n.gameName),"game"in n&&r(1,a=n.game)},[e,a]}var hn=function(n){function f(n){var t;return r(this,f),t=e(this,a(f).call(this)),i(o(t),n,ln,un,s,{gameName:0,game:1}),t}return t(f,c),f}(),vn=X.Map;function pn(n,t,r){var e=n.slice();return e[8]=t[r][0],e[9]=t[r][1],e}function gn(n){var t,r,e,a,i,s;return{c:function(){t=u("section"),r=u("h1"),e=l("Zip Compiler"),a=l("\n    Drag & Drop your file(s) or\n    "),i=u("strong"),s=l("browse."),this.h()},l:function(n){t=v(n,"SECTION",{class:!0});var o=p(t);r=v(o,"H1",{class:!0});var c=p(r);e=g(c,"Zip Compiler"),c.forEach(m),a=g(o,"\n    Drag & Drop your file(s) or\n    "),i=v(o,"STRONG",{});var f=p(i);s=g(f,"browse."),f.forEach(m),o.forEach(m),this.h()},h:function(){$(r,"class","svelte-jt5cgv"),$(t,"class","file-uploader svelte-jt5cgv")},m:function(n,o){N(n,t,o),b(t,r),b(r,e),b(t,a),b(t,i),b(i,s)},d:function(n){n&&m(t)}}}function mn(n,t){var r,e,a=new hn({props:{gameName:t[8],game:t[9]}});return{key:n,first:null,c:function(){r=C(),F(a.$$.fragment),this.h()},l:function(n){r=C(),R(a.$$.fragment,n),this.h()},h:function(){this.first=r},m:function(n,t){N(n,r,t),V(a,n,t),e=!0},p:function(n,t){var r={};1&t&&(r.gameName=n[8]),1&t&&(r.game=n[9]),a.$set(r)},i:function(n){e||(k(a.$$.fragment,n),e=!0)},o:function(n){T(a.$$.fragment,n),e=!1},d:function(n){n&&m(r),W(a,n)}}}function dn(t){var r,e,a,i,s,o,c,f,y,E,D,j,S,z,O=[],A=new vn,P=new tn({props:{$$slots:{default:[gn]},$$scope:{ctx:t}}});P.$on("input",t[2]);for(var U=n(t[0]),G=function(n){return n[8]},J=0;J<U.length;J+=1){var X=pn(t,U,J),L=G(X);A.set(L,O[J]=mn(L,X))}return{c:function(){r=u("script"),e=h(),F(P.$$.fragment),a=h(),i=u("div"),s=u("button"),o=l("Download"),f=h(),y=u("button"),E=l("Reset"),D=h();for(var n=0;n<O.length;n+=1)O[n].c();j=C(),this.h()},l:function(n){r=v(n,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),p(r).forEach(m),e=d(n),R(P.$$.fragment,n),a=d(n),i=v(n,"DIV",{class:!0});var t=p(i);s=v(t,"BUTTON",{disabled:!0,type:!0});var c=p(s);o=g(c,"Download"),c.forEach(m),f=d(t),y=v(t,"BUTTON",{type:!0,class:!0});var u=p(y);E=g(u,"Reset"),u.forEach(m),t.forEach(m),D=d(n);for(var l=0;l<O.length;l+=1)O[l].l(n);j=C(),this.h()},h:function(){document.title="Zip Compiler",r.src!=="https://cdn.jsdelivr.net/npm/jszip@3.2.2/dist/jszip.min.js"&&$(r,"src","https://cdn.jsdelivr.net/npm/jszip@3.2.2/dist/jszip.min.js"),$(r,"integrity","sha256-gy5W5/rXWluWXFRvMWFFMVhocfpBe7Tf4SW2WMfjs4E="),$(r,"crossorigin","anonymous"),s.disabled=c=0===t[0].size,$(s,"type","button"),$(y,"type","button"),$(y,"class","button--reset"),$(i,"class","buttons svelte-jt5cgv"),z=[w(s,"click",t[3]),w(y,"click",t[1])]},m:function(n,t){b(document.head,r),N(n,e,t),V(P,n,t),N(n,a,t),N(n,i,t),b(i,s),b(s,o),b(i,f),b(i,y),b(y,E),N(n,D,t);for(var c=0;c<O.length;c+=1)O[c].m(n,t);N(n,j,t),S=!0},p:function(t,r){var e=x(r,1)[0],a={};4096&e&&(a.$$scope={dirty:e,ctx:t}),P.$set(a),(!S||1&e&&c!==(c=0===t[0].size))&&(s.disabled=c);var i=n(t[0]);B(),O=M(O,e,G,1,t,i,A,j.parentNode,Z,mn,j,pn),H()},i:function(n){if(!S){k(P.$$.fragment,n);for(var t=0;t<U.length;t+=1)k(O[t]);S=!0}},o:function(n){T(P.$$.fragment,n);for(var t=0;t<O.length;t+=1)T(O[t]);S=!1},d:function(n){m(r),n&&m(e),W(P,n),n&&m(a),n&&m(i),n&&m(D);for(var t=0;t<O.length;t+=1)O[t].d(n);n&&m(j),I(z)}}}function $n(n,t){return t.slice(t.lastIndexOf(n)+1)}function yn(n,t){return n.get(t)||n.set(t,new Map).get(t)}function wn(n,t,r){var e,a;P(n,L,(function(n){return r(5,e=n)}));var i=new Map;function s(){a=new JSZip,r(0,i=new Map)}function o(n){var t=n.fileName,s=n.extension,o=n.file,c=n.originalFile,f=e[s];if(f){var u=yn(i,e.game);yn(u,f).set(t,c||t),a.file("".concat(e.game,"\\").concat(f,"\\").concat(t),o),r(0,i)}}function c(n){return f.apply(this,arguments)}function f(){return(f=G(J.mark((function n(t){var r,e;return J.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.name,"zip"===(e=$n(".",r))){n.next=12;break}return n.t0=o,n.t1=r,n.t2=e,n.next=8,t.arrayBuffer();case 8:return n.t3=n.sent,n.t4={fileName:n.t1,extension:n.t2,file:n.t3},(0,n.t0)(n.t4),n.abrupt("return");case 12:return n.next=14,JSZip.loadAsync(t);case 14:n.sent.forEach(function(){var n=G(J.mark((function n(t,e){var a,i;return J.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.dir){n.next=2;break}return n.abrupt("return");case 2:return a=$n("/",t),i=$n(".",a),n.t0=o,n.t1=a,n.t2=i,n.next=9,e.async("Uint8Array");case 9:n.t3=n.sent,n.t4=r,n.t5={fileName:n.t1,extension:n.t2,file:n.t3,originalFile:n.t4},(0,n.t0)(n.t5);case 13:case"end":return n.stop()}}),n)})));return function(t,r){return n.apply(this,arguments)}}());case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(){return(u=G(J.mark((function n(){var t;return J.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.generateAsync({type:"base64"});case 2:t=n.sent,window.location="data:application/zip;base64,"+t;case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return U(s),[i,s,function(n){n.detail.files.forEach(c)},function(){return u.apply(this,arguments)}]}var En=function(n){function f(n){var t;return r(this,f),t=e(this,a(f).call(this)),i(o(t),n,wn,dn,s,{}),t}return t(f,c),f}();export default En;
